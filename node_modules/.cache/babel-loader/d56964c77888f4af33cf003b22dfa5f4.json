{"ast":null,"code":"import _slicedToArray from\"/Users/erya97/googlebooks/.yarn/cache/@babel-runtime-npm-7.12.1-b069f70b16-979d1c099c.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./App.css';import{InputGroup,Input,InputGroupAddon,Button,FormGroup,Label,Spinner}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import axios from'axios';import BookCard from'./BookCard.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// States\nvar _useState=useState(10),_useState2=_slicedToArray(_useState,2),maxResults=_useState2[0],setMaxResults=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),startIndex=_useState4[0],setStartIndex=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),query=_useState6[0],setQuery=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cards=_useState10[0],setCards=_useState10[1];// Handle Search\nvar handleSubmit=function handleSubmit(){setLoading(true);if(maxResults>40||maxResults<1){toast.error('max results must be between 1 and 40');}else{axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query,\"&maxResults=\").concat(maxResults,\"&startIndex=\").concat(startIndex)).then(function(res){if(startIndex>=res.data.totalItems||startIndex<1){toast.error(\"max reults must be between 1 and \".concat(res.data.totalItems));}else{if(res.data.items.length>0){setCards(res.data.items);setLoading(false);}}}).catch(function(err){setLoading(true);console.log(err.response);});}};// Main Show Case\nvar mainHeader=function mainHeader(){return/*#__PURE__*/_jsxs(\"div\",{className:\"main-image d-flex justify-content-center align-items-center flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-2 text-center text-white mb-3\",style:{zIndex:2},children:\"Libreria Google\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'60%',zIndex:2},children:[/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Input,{placeholder:\"Barra di Ricerca dei Libri\",value:query,onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(InputGroupAddon,{addonType:\"append\",children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleSubmit,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex text-white justify-content-center\",children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"ml-5\",children:[/*#__PURE__*/_jsx(Label,{for:\"maxResults\",children:\"Max di Risultati\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"maxResults\",placeholder:\"Max Results\",value:maxResults,onChange:function onChange(e){return setMaxResults(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormGroup,{className:\"ml-5\",children:[/*#__PURE__*/_jsx(Label,{for:\"startIndex\",children:\" Indice di Inizio\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"startIndex\",placeholder:\"start Index\",value:startIndex,onChange:function onChange(e){return setStartIndex(e.target.value);}})]})]})]})]});};var handleCards=function handleCards(){if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3\",children:/*#__PURE__*/_jsx(Spinner,{style:{width:'3rem',height:'3rem'}})});}else{var items=cards.map(function(item,i){var thumbnail='';if(item.volumeInfo.imageLinks){thumbnail=item.volumeInfo.imageLinks.thumbnail;}return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 mb-3\",children:/*#__PURE__*/_jsx(BookCard,{thumbnail:thumbnail,title:item.volumeInfo.title,pageCount:item.volumeInfo.pageCount,language:item.volumeInfo.language,authors:item.volumeInfo.authors,publisher:item.volumeInfo.publisher,description:item.volumeInfo.description,previewLink:item.volumeInfo.previewLink,infoLink:item.volumeInfo.infoLink})},item.id);});return/*#__PURE__*/_jsx(\"div\",{className:\"container my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:items})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 h-100\",children:[mainHeader(),handleCards(),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default App;","map":{"version":3,"sources":["/Users/erya97/googlebooks/src/App.jsx"],"names":["React","useState","InputGroup","Input","InputGroupAddon","Button","FormGroup","Label","Spinner","ToastContainer","toast","axios","BookCard","App","maxResults","setMaxResults","startIndex","setStartIndex","query","setQuery","loading","setLoading","cards","setCards","handleSubmit","error","get","then","res","data","totalItems","items","length","catch","err","console","log","response","mainHeader","zIndex","width","e","target","value","handleCards","height","map","item","i","thumbnail","volumeInfo","imageLinks","title","pageCount","language","authors","publisher","description","previewLink","infoLink","id"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport {InputGroup, Input, InputGroupAddon, Button, FormGroup, Label, Spinner} from 'reactstrap';\nimport {ToastContainer, toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios'\nimport BookCard from './BookCard.jsx'\n\nfunction App() {\n  // States\n  const [maxResults, setMaxResults] = useState(10);\n  const [startIndex, setStartIndex] = useState(1);\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [cards, setCards] = useState([]);\n\n  // Handle Search\n  const handleSubmit = () => {\n    setLoading(true);\n    if (maxResults > 40 || maxResults < 1) {\n      toast.error('max results must be between 1 and 40');\n    } else {\n      axios.get(\n          `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=${maxResults}&startIndex=${startIndex}`\n        )\n        .then(res => {\n          if (startIndex >= res.data.totalItems || startIndex < 1) {\n            toast.error(\n              `max reults must be between 1 and ${res.data.totalItems}`\n            );\n          } else {\n            if (res.data.items.length > 0) {\n              setCards(res.data.items);\n              setLoading(false);\n            }\n          }\n        })\n        .catch(err => {\n          setLoading(true);\n          console.log(err.response);\n        });\n    }\n  };\n\n  // Main Show Case\n  const mainHeader = () => {\n    return(\n      <div className='main-image d-flex justify-content-center align-items-center flex-column'>\n        {/* Overlay */}\n        <div className='filter'></div>\n        <h1\n          className='display-2 text-center text-white mb-3'\n          style={{ zIndex: 2 }}\n        >\n        Libreria Google\n      </h1>\n      <div style={{ width: '60%', zIndex: 2 }}>\n        <InputGroup className='mb-3'>\n          <Input placeholder='Barra di Ricerca dei Libri'\n          value={ query }\n          onChange= { e=> setQuery(e.target.value) }/>\n          <InputGroupAddon addonType= 'append'>\n          <Button color='secondary' onClick={handleSubmit}>\n            <i className='fas fa-search'></i>\n          </Button>\n        </InputGroupAddon>\n        </InputGroup>\n        <div className='d-flex text-white justify-content-center'>\n          <FormGroup className='ml-5'>\n            <Label for='maxResults'>Max di Risultati</Label>\n            <Input type='number' \n            id='maxResults' \n            placeholder='Max Results' \n            value={ maxResults }\n            onChange= { e=> setMaxResults(e.target.value) }/>\n          </FormGroup>\n          <FormGroup className='ml-5'>\n            <Label for='startIndex'> Indice di Inizio</Label>\n            <Input type='number' \n            id='startIndex' \n            placeholder='start Index' \n            value={ startIndex }\n            onChange= { e=> setStartIndex(e.target.value) }/>\n          </FormGroup>\n        </div>\n      </div>\n      </div>\n    );\n  }\n\n  const handleCards = () => {\n    if (loading) {\n      return (\n        <div className='d-flex justify-content-center mt-3'>\n          <Spinner style={{ width: '3rem', height: '3rem' }} />\n        </div>\n      );\n    } else {\n      const items = cards.map((item, i) => {\n        let thumbnail = '';\n        if (item.volumeInfo.imageLinks) {\n          thumbnail = item.volumeInfo.imageLinks.thumbnail;\n        }\n\n        return (\n          <div className='col-lg-4 mb-3' key={item.id}>\n            <BookCard\n              thumbnail={thumbnail}\n              title={item.volumeInfo.title}\n              pageCount={item.volumeInfo.pageCount}\n              language={item.volumeInfo.language}\n              authors={item.volumeInfo.authors}\n              publisher={item.volumeInfo.publisher}\n              description={item.volumeInfo.description}\n              previewLink={item.volumeInfo.previewLink}\n              infoLink={item.volumeInfo.infoLink}\n            />\n          </div>\n        );\n      });\n\n      return (\n        <div className='container my-5'>\n          <div className='row'>{items}</div>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div className='w-100 h-100'>\n      {mainHeader()}\n      {handleCards()}\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}